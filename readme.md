# Chat-netty Project

### 设计初衷: 

参阅《精通网络编程详解》孙卫琴老师的书籍, 了解并使用了JDK原生的io, nio以及aio类库的基本API来开发socket服务端和客户端.

参阅《Netty in action》和闪电侠老师推出的博客, 受益良多.

由于ByteBuffer 编解码的开发复杂性(拆包/粘包, Netty内置提供一系列的拆包器, 比如固定长度的拆包器,行拆包器,分隔符拆包器,基于长度域拆包器)以及对业务逻辑的责任链设计), 基于Netty的开发难度就小了不少.

在熟悉使用的前提下, 再深入理解源码解析. 

chat-netty 作为Netty框架的入门级作品着实不错.

### 功能说明:

1.  客户端登录/注册/注销, 其登录状态为(在线, 离线, 隐身)

2.  客户端单聊, 这里考虑到离线信息需要漫游, 保存在非关系型数据库(MONGODB), 客户端数据持久化考虑H2 Embedded

3.  ~~客户端群聊, 同上~~ Terminal 太友好了:) 但是我拒绝 

4.  异地登录通知, 好友申请通知, 离线信息(单聊/群聊)通知, 登录服务端获取新的通知，本地离线状态亦可查看通知(上一次登录的用户)

5.  添加/删除 - 好友/~~群聊~~

6.  考虑到分布式IM的扩展, 需要引入负载均衡做{网关层#权限认证,请求转发,心跳侦测}和redis作为外存储用户id与对应内网服务端的映射关系.[个人理解思路]

    该扩展功能, 之后考虑... 
    
    业务不在local server同步处理，(chat-security-project 未开源)单独部署在其他IP:端口,
    
    通过http接口调用，考量到handler处理的业务调用多个接口，要保证业务数据的一致性，传统数据库的事务并不能满足，先想到的就是分布式事务，
    
    当前只考虑本地建立topic消息缓存实现, 因此并不能解决断电问题(可以定时snapShot)，学习MQ成本太高，能力有限暂不考虑.
    
    netty作为通讯框架，可以试着造很多灵活多样的HFS系统
    
    [但是不要脱离业务，技术是伴随着业务的健壮才得以提升的. 切记！ ----2019/07/06]
    
    ~~之后自己造个简单的轮子(也是基于Netty，提供分布式事务协调管理，定时持久化topic，[remark]考虑回顾多线程二阶段eventBus思想)~~
    
    还有很多需要完善的地方，加油
   
    [
        1. 人闲下来总会想太多，明明努力的时间都不够，哪有时间去绝望 ----2019/05/19
        2. 人生总是避免不了小风小浪, 想要野心一帆风顺，扪心自问你现在的能力驾驭的了吗？----2019/07/06
    ]
